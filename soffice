#!/bin/sh
# $Id: soffice,v 1.3 2005/08/26 01:30:53 friedman Exp $

case $HOME in
  */etc/misc ) : ;;
  *          ) HOME=$HOME/etc/misc ;;
esac

if [ -d $HOME/adabas ]; then
  DBROOT=$HOME/adabas
  DBWORK=$DBROOT/sql
  DBCONFIG=$DBROOT/sql
  PATH=$DBROOT/bin:$DBROOT/pgm:$PATH
  LD_LIBRARY_PATH=$DBROOT/lib${LD_LIBRARY_PATH+:$LD_LIBRARY_PATH}
  export DBROOT DBWORK DBCONFIG PATH LD_LIBRARY_PATH
fi

case $1 in
  --run ) shift; exec ${1+"$@"} ;;
esac

if [ -f $HOME/.openoffice/soffice ]; then
  exec $HOME/.openoffice/soffice ${1+"$@"}
fi

case $0 in
  */ooffice ) exec run-next "$0" ${1+"$@"} ;;
  *         ) exec ooffice       ${1+"$@"} ;;
esac

# eof
